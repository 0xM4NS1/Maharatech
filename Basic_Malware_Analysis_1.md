# CH02_VID08_VM Network options (NAT, bridged, host-only)
NAT & Bridged can access to Network
Host-only we cant access the network

NAT : Network Addressed Translation : its like any process in my host machine .
Bridged : Vm conect direct to the router
Host_only: than not connected in the internet that have a different subnet

Should we allow the malware to access the internet : 
So let's explain what the malware can do when it is executed.
first malware want to connect with domain so
1 - Resolve the domain name to an ip address
2 - Connect to the server using its IP address 
    A - so if we just need to extract IOCs we turn of the network if we create a fake DNS when malware send to my fake DNS server  and send response No response
    B - if the malware type have multi stage  like went to  connect to the attacker server  to let the malware Download secound stage or grab an encryption / decryption key
  Precautions : 
  1 - Use a fake DNS server inside our subnet(host-only network)
  2 - Firewall like pfSense
  3 - Allow certain Protocols only (HTTP or ICMP)/
  4 - Always use a proxy or VPN tohide your location


Can Malware detect its runnung inside a VM ?
When and Why and wher 

some malware before it does any malicious activity, start checking if it running in a virtual machine.
Case : To deceive the sandbox and give false result .
Case : If he discovers that he is working on a virtual machine, he immediately terminates his work and deletes himself .
Case : Or during its operation, the malware makes sure that the Virtual Machine is not running, and if it detects it, it displays false results. For example, instead of connecting to the attackerâ€™s server, it connects to Google.
Case : To try to escape the VM and infect the host machine, find a vulnerability in the VM machine.

How The malware detec if he in a vm ?




